@model Shop.Models.ArticleModel

@{
    int pageIndex = ViewBag.pageIndex;
    int pageCount = ViewBag.pageCount;
    Layout = null;
}

<h2>Articles</h2>
<hr />

<div class="container">
    @Html.Hidden("pageCount", pageCount)
    @Html.Hidden("pageIndex", pageIndex)

    <table class="table table-striped table-condensed" id="articlesGrid">
        <thead>
            <tr>
                <th style="width: 20px"></th>
                <th data-sortable="true" data-field="name">
                    @Html.DisplayNameFor(model => model.Name)
                </th>
                <th data-sortable="true" data-field="value">
                    @Html.DisplayNameFor(model => model.Value)
                </th>
                <th data-sortable="true" data-field="dataCriacao">
                    @Html.DisplayNameFor(model => model.Quantity)
                </th>
                <th style="width: 120px"></th>
            </tr>
        </thead>
        <tbody />
        @{
            Html.RenderAction("Page", new { pageIndex = 1, pageCount });
        }
    </table>
    <hr />
    <div>
        @for (var i = 0; i < pageCount; i++)
        {
            if (i == pageIndex)
            {
                <a class="btn btn-info" id="page-@i" onclick="getArticles(@i, @pageCount);">@(i + 1)</a>
            }
            else
            {
                <a class="btn btn-default" id="page-@i" onclick="getArticles(@i, @pageCount);">@(i + 1)</a>
            }
        }
    </div>
</div>